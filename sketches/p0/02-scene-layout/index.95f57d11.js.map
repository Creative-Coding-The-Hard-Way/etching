{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,U,I,ECEO,OAAM,EAGX,YAAY,CAAM,CAAE,CAClB,IAAI,CAAC,EAAE,CAAG,CACZ,CAEA,WAAsB,CACpB,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,UACvB,CAEA,UAAqB,CACnB,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,UACvB,CACF,C,G,E,Q,S,C,C,C,E,E,E,O,C,S,I,ECFO,OAAM,EAIX,YAAY,CAAM,CAAE,CAFZ,IAAA,CAAA,aAAA,CAAgC,KAGtC,IAAI,CAAC,EAAE,CAAG,CACZ,CASA,oBAA8B,CAI5B,OAH0B,MAAtB,IAAI,CAAC,aAAa,EACpB,CAAA,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CA1BlC,yCAyBL,EAGO,IAAI,CAAC,aAAa,AAC3B,CACF,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,QE7BO,OAAM,EAMX,YAAmB,CAAM,CAAE,CAAmB,CAAE,CAC9C,IAAI,CAAC,MAAM,CAAG,ACSX,SAAwB,CAAmB,EAChD,GAAM,CAAA,MAAE,CAAK,CAAA,OAAE,CAAM,CAAA,OAAE,CAAM,CAAE,CAAG,EAClC,MAAO,CACL,OAAA,EACA,EAAG,EACH,EAAG,EACH,KAAM,EACN,MAAO,EACP,IAAK,EACL,OAAQ,EACR,SAAU,EAAQ,EAClB,SAAU,EAAS,EACnB,MAAO,CACL,EAAG,EAAQ,AAAS,EAAT,EACX,EAAG,EAAS,AAAS,EAAT,EACZ,KAAM,EACN,IAAK,EACL,MAAO,EAAQ,EACf,OAAQ,EAAS,EACjB,SAAU,EAAQ,EAClB,SAAU,EAAS,CA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","sources":["<anon>","src/lib/palette.ts","src/lib/assets.ts","src/sketches/p0/02_scene_layout/index.ts","src/lib/sketch/index.ts","src/lib/sketch/layout.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire98dc\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire98dc\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"9DS0H\", function(module, exports) {\n\n$parcel$export(module.exports, \"Palette\", () => $d0095abaf5e261c5$export$e2fbaa661ec19dbf);\nclass $d0095abaf5e261c5$export$e2fbaa661ec19dbf {\n    constructor(p5){\n        this.p5 = p5;\n    }\n    old_paper() {\n        return this.p5.color(\"#E0C9A6\");\n    }\n    gunmetal() {\n        return this.p5.color(\"#2E2F2E\");\n    }\n}\n\n});\n\nparcelRegister(\"7LI5f\", function(module, exports) {\n\n$parcel$export(module.exports, \"Assets\", () => $d64c2e6e79d64407$export$c8eca95e306f7116);\nconst $d64c2e6e79d64407$var$ASSET_PATH = \"/etching/assets\";\nfunction $d64c2e6e79d64407$var$font_path(font_name) {\n    return `${$d64c2e6e79d64407$var$ASSET_PATH}/fonts/${font_name}`;\n}\nclass $d64c2e6e79d64407$export$c8eca95e306f7116 {\n    constructor(p5){\n        this.special_elite = null;\n        this.p5 = p5;\n    }\n    /**\n   * Lazily loads the SpecialElite font from the assets folder.\n   *\n   * Call this once in preload to ensure the font is loaded in your sketch.\n   *\n   * @returns The P5 font instance for the SpecialElite font face.\n   */ load_special_elite() {\n        if (this.special_elite == null) this.special_elite = this.p5.loadFont($d64c2e6e79d64407$var$font_path(\"SpecialElite.ttf\"));\n        return this.special_elite;\n    }\n}\n\n});\n\n\nvar $7vzAp = parcelRequire(\"7vzAp\");\n\nvar $aYfvi = parcelRequire(\"aYfvi\");\n\nvar $7vzAp = parcelRequire(\"7vzAp\");\n\nvar $9DS0H = parcelRequire(\"9DS0H\");\n\nvar $7LI5f = parcelRequire(\"7LI5f\");\nfunction $7a93ed990456373c$export$e8aff8e43fab5f06(params) {\n    const { width: width, height: height, margin: margin } = params;\n    return {\n        margin: margin,\n        w: width,\n        h: height,\n        left: 0,\n        right: width,\n        top: 0,\n        bottom: height,\n        center_x: width / 2,\n        center_y: height / 2,\n        scene: {\n            w: width - margin * 2,\n            h: height - margin * 2,\n            left: margin,\n            top: margin,\n            right: width - margin,\n            bottom: height - margin,\n            center_x: width / 2,\n            center_y: height / 2\n        }\n    };\n}\n\n\nclass $ee4d6d24a0d6b1f4$export$361fce2090be193f {\n    constructor(p5, params){\n        this.layout = (0, $7a93ed990456373c$export$e8aff8e43fab5f06)(params);\n        this.palette = new (0, $9DS0H.Palette)(p5);\n        this.assets = new (0, $7LI5f.Assets)(p5);\n        this.p5 = p5;\n    }\n    /**\n   * Fills the sketch margins with rects.\n   *\n   * The caller must set the fill color prior to calling this method.\n   */ paint_margins() {\n        this.p5.push();\n        this.p5.noStroke();\n        this.p5.rectMode(this.p5.CORNER);\n        // left side\n        this.p5.rect(this.layout.left, this.layout.top, this.layout.margin, this.layout.h);\n        // right side\n        this.p5.rect(this.layout.scene.right, this.layout.top, this.layout.margin, this.layout.h);\n        // top\n        this.p5.rect(this.layout.scene.left, this.layout.top, this.layout.scene.w, this.layout.margin);\n        // bottom\n        this.p5.rect(this.layout.scene.left, this.layout.scene.bottom, this.layout.scene.w, this.layout.margin);\n        this.p5.pop();\n    }\n    draw_seed() {\n        this.p5.push();\n        this.p5.textAlign(this.p5.RIGHT, this.p5.BOTTOM);\n        this.p5.noStroke();\n        this.p5.textSize(15);\n        const pad = this.p5.textSize() * 0.25;\n        this.p5.text(`[id:${(0, $7vzAp.get_current_seed)()}]`, this.layout.right - pad, this.layout.bottom - pad);\n        this.p5.pop();\n    }\n}\n\n\nnew (0, $7vzAp.Page)(\"Scene Layout\", (p5)=>{\n    const sketch = new (0, $ee4d6d24a0d6b1f4$export$361fce2090be193f)(p5, {\n        width: 800,\n        height: 1000,\n        margin: p5.random(25, 200)\n    });\n    const { w: w, h: h, scene: scene } = sketch.layout;\n    p5.preload = ()=>{\n        sketch.assets.load_special_elite();\n    };\n    p5.setup = ()=>{\n        p5.createCanvas(w, h);\n    };\n    p5.draw = ()=>{\n        p5.background(sketch.palette.old_paper());\n        p5.noFill();\n        (0, $aYfvi.pushpop)(p5, ()=>{\n            p5.noStroke();\n            p5.fill(0, 48);\n            p5.rect(scene.left, scene.top, scene.w, scene.h);\n        });\n        (0, $aYfvi.pushpop)(p5, ()=>{\n            p5.stroke(sketch.palette.gunmetal());\n            p5.strokeWeight(10);\n            p5.circle(p5.random(scene.left, scene.right), p5.random(scene.top, scene.bottom), 200);\n        });\n        (0, $aYfvi.pushpop)(p5, ()=>{\n            p5.fill(sketch.palette.old_paper());\n            sketch.paint_margins();\n        });\n        (0, $aYfvi.pushpop)(p5, ()=>{\n            p5.fill(sketch.palette.gunmetal());\n            p5.textFont(sketch.assets.load_special_elite());\n            sketch.draw_seed();\n        });\n        p5.noLoop();\n    };\n});\n\n\n//# sourceMappingURL=index.95f57d11.js.map\n","import P5 from \"p5\";\n\nexport class Palette {\n  private p5: P5;\n\n  constructor(p5: P5) {\n    this.p5 = p5;\n  }\n\n  old_paper(): P5.Color {\n    return this.p5.color(\"#E0C9A6\");\n  }\n\n  gunmetal(): P5.Color {\n    return this.p5.color(\"#2E2F2E\");\n  }\n}\n","import P5 from \"p5\";\n\nconst ASSET_PATH = \"/etching/assets\";\n\nfunction font_path(font_name: string): string {\n  return `${ASSET_PATH}/fonts/${font_name}`;\n}\n\n/**\n * Represents Assets in the assets folder.\n *\n * Individual assets are lazily loaded and can be preloaded synchronously in\n * a sketches preload() method if desired.\n */\nexport class Assets {\n  private p5: P5;\n  private special_elite: P5.Font | null = null;\n\n  constructor(p5: P5) {\n    this.p5 = p5;\n  }\n\n  /**\n   * Lazily loads the SpecialElite font from the assets folder.\n   *\n   * Call this once in preload to ensure the font is loaded in your sketch.\n   *\n   * @returns The P5 font instance for the SpecialElite font face.\n   */\n  load_special_elite(): P5.Font {\n    if (this.special_elite == null) {\n      this.special_elite = this.p5.loadFont(font_path(\"SpecialElite.ttf\"));\n    }\n    return this.special_elite;\n  }\n}\n","import { Page } from \"~/src/lib/page\";\nimport { pushpop } from \"~/src/lib/p5_state\";\nimport { Sketch } from \"~/src/lib/sketch\";\nimport P5 from \"p5\";\n\nnew Page(\"Scene Layout\", (p5: P5) => {\n  const sketch = new Sketch(p5, {\n    width: 800,\n    height: 1000,\n    margin: p5.random(25, 200),\n  });\n  const { w, h, scene } = sketch.layout;\n\n  p5.preload = () => {\n    sketch.assets.load_special_elite();\n  };\n\n  p5.setup = () => {\n    p5.createCanvas(w, h);\n  };\n\n  p5.draw = () => {\n    p5.background(sketch.palette.old_paper());\n    p5.noFill();\n\n    pushpop(p5, () => {\n      p5.noStroke();\n      p5.fill(0, 48);\n      p5.rect(scene.left, scene.top, scene.w, scene.h);\n    });\n\n    pushpop(p5, () => {\n      p5.stroke(sketch.palette.gunmetal());\n      p5.strokeWeight(10);\n      p5.circle(\n        p5.random(scene.left, scene.right),\n        p5.random(scene.top, scene.bottom),\n        200\n      );\n    });\n\n    pushpop(p5, () => {\n      p5.fill(sketch.palette.old_paper());\n      sketch.paint_margins();\n    });\n\n    pushpop(p5, () => {\n      p5.fill(sketch.palette.gunmetal());\n      p5.textFont(sketch.assets.load_special_elite());\n      sketch.draw_seed();\n    });\n\n    p5.noLoop();\n  };\n});\n\nexport {};\n","import P5 from \"p5\";\nimport { get_current_seed } from \"../page\";\nimport { Palette } from \"../palette\";\nimport { Assets } from \"../assets\";\nimport { SceneParams, Layout, compute_layout, AxisAlignedRect } from \"./layout\";\n\nexport class Sketch {\n  public readonly layout: Layout;\n  public readonly palette: Palette;\n  public readonly assets: Assets;\n  private readonly p5: P5;\n\n  public constructor(p5: P5, params: SceneParams) {\n    this.layout = compute_layout(params);\n    this.palette = new Palette(p5);\n    this.assets = new Assets(p5);\n    this.p5 = p5;\n  }\n\n  /**\n   * Fills the sketch margins with rects.\n   *\n   * The caller must set the fill color prior to calling this method.\n   */\n  public paint_margins() {\n    this.p5.push();\n    this.p5.noStroke();\n    this.p5.rectMode(this.p5.CORNER);\n    // left side\n    this.p5.rect(\n      this.layout.left,\n      this.layout.top,\n      this.layout.margin,\n      this.layout.h\n    );\n    // right side\n    this.p5.rect(\n      this.layout.scene.right,\n      this.layout.top,\n      this.layout.margin,\n      this.layout.h\n    );\n    // top\n    this.p5.rect(\n      this.layout.scene.left,\n      this.layout.top,\n      this.layout.scene.w,\n      this.layout.margin\n    );\n    // bottom\n    this.p5.rect(\n      this.layout.scene.left,\n      this.layout.scene.bottom,\n      this.layout.scene.w,\n      this.layout.margin\n    );\n    this.p5.pop();\n  }\n\n  draw_seed() {\n    this.p5.push();\n    this.p5.textAlign(this.p5.RIGHT, this.p5.BOTTOM);\n    this.p5.noStroke();\n    this.p5.textSize(15);\n    const pad = this.p5.textSize() * 0.25;\n    this.p5.text(\n      `[id:${get_current_seed()}]`,\n      this.layout.right - pad,\n      this.layout.bottom - pad\n    );\n    this.p5.pop();\n  }\n}\n","export interface AxisAlignedRect {\n  readonly w: number;\n  readonly h: number;\n  readonly left: number;\n  readonly right: number;\n  readonly bottom: number;\n  readonly top: number;\n  readonly center_x: number;\n  readonly center_y: number;\n}\n\nexport interface Layout extends AxisAlignedRect {\n  readonly margin: number;\n  readonly scene: AxisAlignedRect;\n}\n\nexport interface SceneParams {\n  width: number;\n  height: number;\n  margin: number;\n}\n\nexport function compute_layout(params: SceneParams): Layout {\n  const { width, height, margin } = params;\n  return {\n    margin,\n    w: width,\n    h: height,\n    left: 0,\n    right: width,\n    top: 0,\n    bottom: height,\n    center_x: width / 2,\n    center_y: height / 2,\n    scene: {\n      w: width - margin * 2,\n      h: height - margin * 2,\n      left: margin,\n      top: margin,\n      right: width - margin,\n      bottom: height - margin,\n      center_x: width / 2,\n      center_y: height / 2,\n    },\n  };\n}\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$d0095abaf5e261c5$export$e2fbaa661ec19dbf","constructor","p5","old_paper","color","gunmetal","$d64c2e6e79d64407$export$c8eca95e306f7116","special_elite","load_special_elite","loadFont","$7vzAp","$aYfvi","$9DS0H","$7LI5f","$ee4d6d24a0d6b1f4$export$361fce2090be193f","params","layout","width","height","margin","w","h","left","right","top","bottom","center_x","center_y","scene","palette","Palette","assets","Assets","paint_margins","push","noStroke","rectMode","CORNER","rect","pop","draw_seed","textAlign","RIGHT","BOTTOM","textSize","pad","text","get_current_seed","Page","sketch","random","preload","setup","createCanvas","draw","background","noFill","pushpop","fill","stroke","strokeWeight","circle","textFont","noLoop"],"version":3,"file":"index.95f57d11.js.map"}