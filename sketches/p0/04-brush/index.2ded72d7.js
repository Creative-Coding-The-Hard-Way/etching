function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}var e=globalThis,i={},s={},r=e.parcelRequire98dc;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in s){var e=s[t];delete s[t];var r={id:t,exports:{}};return i[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){s[t]=e},e.parcelRequire98dc=r);var o=r.register;o("jDwty",function(e,i){t(e.exports,"Sketch",()=>p);var s=r("7vzAp"),o=r("9DS0H"),a=r("7LI5f"),l=r("18izm");class p{constructor(t,e){this.layout=(0,l.compute_layout)(e),this.palette=new o.Palette(t),this.assets=new a.Assets(t),this.p5=t}paint_margins(){this.p5.push(),this.p5.noStroke(),this.p5.rectMode(this.p5.CORNER),this.p5.rect(this.layout.left,this.layout.top,this.layout.margin,this.layout.h),this.p5.rect(this.layout.scene.right,this.layout.top,this.layout.margin,this.layout.h),this.p5.rect(this.layout.scene.left,this.layout.top,this.layout.scene.w,this.layout.margin),this.p5.rect(this.layout.scene.left,this.layout.scene.bottom,this.layout.scene.w,this.layout.margin),this.p5.pop()}draw_seed(){this.p5.push(),this.p5.textAlign(this.p5.RIGHT,this.p5.BOTTOM),this.p5.noStroke(),this.p5.textSize(15);let t=.25*this.p5.textSize();this.p5.text(`[id:${(0,s.get_current_seed)()}]`,this.layout.right-t,this.layout.bottom-t),this.p5.pop()}}}),o("9DS0H",function(e,i){t(e.exports,"Palette",()=>s);class s{constructor(t){this.p5=t}old_paper(){return this.p5.color("#E0C9A6")}gunmetal(){return this.p5.color("#2E2F2E")}}}),o("7LI5f",function(e,i){t(e.exports,"Assets",()=>r);let s="/etching/assets";class r{constructor(t){this.special_elite=null,this.p5=t}load_special_elite(){return null==this.special_elite&&(this.special_elite=this.p5.loadFont(`${s}/fonts/SpecialElite.ttf`)),this.special_elite}load_image(t){return this.p5.loadImage(`${s}/${t}`)}}}),o("18izm",function(e,i){t(e.exports,"compute_layout",()=>s);function s(t){let{width:e,height:i,margin:s}=t,r=e/i,o=s/Math.max(e,i);return i>window.innerHeight&&(e=(i=window.innerHeight)*r),e>window.innerWidth&&(i=(e=window.innerWidth)/r),{margin:s=o*Math.max(e,i),w:e,h:i,left:0,right:e,top:0,bottom:i,center_x:e/2,center_y:i/2,scene:{w:e-2*s,h:i-2*s,left:s,top:s,right:e-s,bottom:i-s,center_x:e/2,center_y:i/2},em:Math.min(e,i)/50}}});var a=r("7vzAp"),l=r("aYfvi"),p=r("jDwty"),l=r("aYfvi");class h{constructor(t,e){this.p5=t,this.props=e,this.brush_size=1}set_size(t){this.brush_size=t}line(t,e,i,s){let r=Math.atan2(s-e,i-t),o=this.p5.dist(t,e,i,s),a=o;for(;a>=0;){let p=1-a/o,h=this.brush_size*(1+this.jitter(this.props.size_jitter)),n=this.position_jitter(r,h),c=this.p5.lerp(t,i,p)+n.x,u=this.p5.lerp(e,s,p)+n.y;(0,l.pushpop)(this.p5,()=>{this.p5.translate(c,u),this.p5.rotate(r+this.p5.TWO_PI*this.jitter(this.props.angle_jitter));let t=h/this.props.stamp.size;this.p5.scale(t,t),this.props.stamp.draw(this.p5)}),a-=h*Math.max(.1,this.props.spacing)}}jitter(t){let e=.5*t;return this.p5.random(-e,e)}position_jitter(t,e){let i=t+this.p5.HALF_PI,s=e*this.jitter(this.props.position_jitter);return{x:Math.cos(i)*s,y:Math.sin(i)*s}}}new a.Page("Pen",t=>{let e=new p.Sketch(t,{width:800,height:1e3,margin:t.random(25,200)}),{w:i,h:s,scene:r}=e.layout,o=new h(t,{size_jitter:.5,position_jitter:.25,angle_jitter:.1,spacing:.25,stamp:{draw:t=>{t.rectMode(t.CENTER),t.noStroke(),t.fill(0,128),t.rect(0,0,50,100),t.fill(0,228),t.rect(0,0,100,25),t.random()>.99&&(t.scale(2,2),t.fill(0,128),t.rect(0,0,50,100),t.fill(0,228),t.rect(0,0,100,25),t.random()>.9&&(t.scale(2,2),t.fill(0,128),t.rect(0,0,50,100),t.fill(0,228),t.rect(0,0,100,25)))},size:100}});t.preload=()=>e.assets.load_special_elite(),t.setup=()=>t.createCanvas(i,s),t.mouseClicked=()=>t.redraw(),t.draw=()=>{t.background(e.palette.old_paper()),(0,l.pushpop)(t,()=>{t.noStroke(),t.fill(0,48),t.rect(r.left,r.top,r.w,r.h)}),(0,l.pushpop)(t,()=>{t.stroke(e.palette.gunmetal()),o.set_size(8),o.line(r.left,r.center_y,t.mouseX,t.mouseY)}),(0,l.pushpop)(t,()=>{t.fill(e.palette.old_paper()),e.paint_margins(),t.fill(e.palette.gunmetal()),t.textFont(e.assets.load_special_elite()),e.draw_seed()}),t.noLoop()}});
//# sourceMappingURL=index.2ded72d7.js.map
